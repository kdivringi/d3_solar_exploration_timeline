<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="http://d3js.org/d3.v3.min.js"></script>
    <script type="text/javascript">
    function draw(locs) {
        	
      // Set scale & axis regions
      var margin = 75,
          width = 1400 - margin,
          height = 600 - margin;

      d3.select("body")
        .append("h2")
        .text("Timeline of Solar Exploration");

      svg = d3.select("body")
        .append("svg")
        .attr("width", width + margin)
        .attr("height", height + margin);

      // Draw Places / Year Scales

      var g = d3.select("svg")
        .append('g')
        .attr("class", "locs");

      g.selectAll("text")
        .data(locs)
        .enter()
        .append("text")
        .attr("y", function (d) {return +d['position']*height;})
        .text(function (d) {return d['name'];});
      
      debugger;

      var loc_scale = d3.scale.ordinal()
        .domain(locs.map(function (d) {return d['name'];}))
        .range(locs.map(function (d) {return +d['position']*height;}));

      var time_scale = d3.scale.linear()
        .range([margin, width])
        .domain([1958, 2015])

      var time_axis = d3.svg.axis()
        .scale(time_scale)
        .orient("bottom")
        .tickFormat(d3.format("04d"));


      // Function to draw mission path
      function draw_missions(data) {
        svg.append('g')
          .attr("class","mission")
          .selectAll("path")
          .data(data)
          .enter()
          .append("path")
          .attr("stroke", "black")
          .attr("stroke-width", 1)
          .attr("stroke-dasharray", "5,5")
          .attr('d', function (d) {
            var x0 = time_scale(d['launch']);
            var x1 = time_scale(d['end']);
            var y0 = loc_scale("Earth");
            var y1 = loc_scale(d['destination']);
            return "M" + x0 + " " + y0 + " L" + x1 + " " + y1;
          });
      }

      d3.tsv("solar_exploration.tsv", draw_missions)

      d3.select("svg")
        .append('g')
        .attr('class', 'x axis')
        .attr('transform', "translate(0," + height + ")")
        .call(time_axis);
      


      // Bind and draw everything

    	// Set Mouseover events

    	// Set button actions/transitions
    	
    }
      </script>
  </head>
<body>
  <script type="text/javascript">
  /*
    */
  d3.tsv("locations.tsv", draw);
  </script>
</body>
</html>
